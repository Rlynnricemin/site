import{_ as e,a as n,k as a,s}from"./index.6a8b5f17.js";const t={pageData:{title:"Upgrade preparation",description:"",frontmatter:{},headers:[{level:2,title:"Upgrade preparation",slug:"Upgrade-preparation",content:""},{level:2,title:"2.0 What are the incompatible changes",slug:"_2-0-What-are-the-incompatible-changes",content:"Design specification adjustment"},{level:3,title:"Design specification adjustment",slug:"Design-specification-adjustment",content:""},{level:3,title:"Compatibility adjustment",slug:"Compatibility-adjustment",content:""},{level:2,title:"Encounter problems",slug:"Encounter-problems",content:"V2 has made a lot of detailed improvements and refactorings. We have collected all known incompatible changes and related effects as much as possible, but there may still be some scenarios that we have not considered. If you encounter problems during the upgrade process, please go to [GitHub issues](https://vuecomponent.github.io/issue-helper/) for feedback. We will respond as soon as possible and improve this document accordingly."}],relativePath:"site/src/vueDocs/migration-v2.en-US.md",content:"This document will help you upgrade from ant-design-vue `1.x` version to ant-design-vue `2.x` version.\n\n## Upgrade preparation\n\n1. Please upgrade to the latest version of 1.x first, and remove/modify related APIs according to the console warning message.\n2. Upgrade the project to Vue 3.0 and above.\n\n## 2.0 What are the incompatible changes\n\n### Design specification adjustment\n\n- Adjust the row height from `1.5`(`21px`) to `1.5715`(`22px`).\n- Basic round corner adjustment, changed from `4px` to `2px`.\n- The color brightness of the dividing line is reduced, from `#E8E8E8` to `#F0F0F0`.\n- The default background color of Table is changed from transparent to white.\n\n### Compatibility adjustment\n\n- The minimum supported version of Vue is Vue 3.0.\n\n#### Adjusted API\n\n- Removed LocaleProvider, please use `ConfigProvider` instead.\n- Removed the afterClose property of Tag.\n- Merged FormModel and Form, see the Form refactoring part below for details.\n- `tabIndex`, `maxLength`, `readOnly`, `autoComplete`, `autoFocus` are changed to all lowercase.\n- In order to use the slot more friendly in template syntax, all related to xxxRender, renderXxxx are changed to single parameter, involving `itemRender`, `renderItem`, `customRender`, `dropdownRender`, `dateCellRender`, `dateFullCellRender`, `monthCellRender`, `monthFullCellRender`, `renderTabBar`.\n- All the places where scopedSlots are configured are changed to slots.\n- `{ on, props, attrs, ... }` configuration is flattened, such as `{ props: {type:&#39;xxx&#39;}, on: {click: this.handleClick}}` changed to `{ type: &#39;xxx&#39;, onClick: this.handleClick }`, related fields: `okButtonProps`, `cancelButtonProps`.\n- Change xxx.sync to v-model:xxx\n- v-model is changed to v-model:xxx, which specifically involves components:\n\n  - The components changed from v-model to v-model:checked are: CheckableTag, Checkbox, Switch\n  - The components changed from v-model to v-model:value are: Radio, Mentions, CheckboxGroup, Rate, DatePicker\u3001Select\n  - The components changed from v-model to v-model:visible are: Tag, Popconfirm, Popove, Tooltip, Moda, Dropdown\n  - The components changed from v-model to v-model:activeKey are: Collaps, Tabs\n  - The components changed from v-model to v-model:current are: Steps\n  - The components changed from v-model to v-model:selectedKeys are: Menu\n\n#### Icon Upgrade\n\nIn `ant-design-vue@1.2.0`, we introduced the svg icon ([Why use the svg icon?](https://github.com/ant-design/ant-design/issues/10353)). The icon API that uses string naming cannot be loaded on demand, so the svg icon file is fully introduced, which greatly increases the size of the packaged product. In 2.0, we adjusted the icon usage API to support tree shaking, reducing the default package size by approximately 150 KB (Gzipped).\n\nThe old way of using Icon will be obsolete:\n\n```html\n&lt;a-icon type=&quot;smile&quot; /&gt;\n&lt;a-button icon=&quot;smile&quot; /&gt;\n```\n\nIn 2.0, an on-demand introduction method will be adopted:\n\n```html\n&lt;template&gt;\n  &lt;smile-outlined /&gt;\n  &lt;a-button&gt;\n    &lt;template #icon&gt;&lt;smile-outlined /&gt;&lt;/template&gt;\n  &lt;/a-button&gt;\n&lt;/template&gt;\n&lt;script&gt;\n  import SmileOutlined from &#39;@ant-design/icons-vue/SmileOutlined&#39;;\n  export default {\n    components: {\n      SmileOutlined,\n    },\n  };\n&lt;/script&gt;\n```\n\n#### Component refactoring\n\nIn 1.x, we provide two form components, Form and FormModel. The original Form component uses v-decorator for data binding. In Vue2, we use context to force update components. However, in Vue3, due to the introduction of patchFlag, etc. Optimization method, forced refresh will destroy the performance advantage brought by patchFlag. So in version 2.0, we merged Form and FormModel, retained the use of FormModel, enriched related functions, and renamed it to Form.\n\nInvolving changes:\n\n- Added `scrollToFirstError`, `name`, `validateTrigger` properties for Form, added `finish`, `finishFailed` events, and added `scrollToField` method.\n- Form.Item adds `validateFirst`, `validateTrigger`, and discards the `prop` attribute, and replaces it with `name`.\n- The nested field path uses an array. In the past version, we used. To represent the nested path (such as user.name to represent {user: {name:&#39;&#39;} }). However, in some back-end systems, the variable name will also carry .. This causes users to need additional codes for conversion. Therefore, in the new version, nested paths are represented by arrays to avoid wrong handling behaviors (such as [&#39;user&#39;,&#39;name&#39;]).\n- validateFields no longer supports callback. validateFields will return a Promise object, so you can perform corresponding error handling through async/await or then/catch. It is no longer necessary to determine whether errors is empty:\n\n```js\n// v1\nvalidateFields((err, value) =&gt; {\n  if (!err) {\n    // Do something with value\n  }\n});\n```\n\nChange to\n\n```js\n// v2\nvalidateFields().then(values \u200B\u200B=&gt; {\n  // Do something with value\n});\n```\n\n## Encounter problems\n\nV2 has made a lot of detailed improvements and refactorings. We have collected all known incompatible changes and related effects as much as possible, but there may still be some scenarios that we have not considered. If you encounter problems during the upgrade process, please go to [GitHub issues](https://vuecomponent.github.io/issue-helper/) for feedback. We will respond as soon as possible and improve this document accordingly.\n",html:`<p>This document will help you upgrade from ant-design-vue <code>1.x</code> version to ant-design-vue <code>2.x</code> version.</p>
<h2 id="Upgrade-preparation">Upgrade preparation <a class="header-anchor" href="#Upgrade-preparation">
          <span aria-hidden="true" class="anchor">#</span>
        </a></h2>
<ol>
<li>Please upgrade to the latest version of 1.x first, and remove/modify related APIs according to the console warning message.</li>
<li>Upgrade the project to Vue 3.0 and above.</li>
</ol>
<h2 id="_2-0-What-are-the-incompatible-changes">2.0 What are the incompatible changes <a class="header-anchor" href="#_2-0-What-are-the-incompatible-changes">
          <span aria-hidden="true" class="anchor">#</span>
        </a></h2>
<h3 id="Design-specification-adjustment">Design specification adjustment <a class="header-anchor" href="#Design-specification-adjustment">
          <span aria-hidden="true" class="anchor">#</span>
        </a></h3>
<ul>
<li>Adjust the row height from <code>1.5</code>(<code>21px</code>) to <code>1.5715</code>(<code>22px</code>).</li>
<li>Basic round corner adjustment, changed from <code>4px</code> to <code>2px</code>.</li>
<li>The color brightness of the dividing line is reduced, from <code>#E8E8E8</code> to <code>#F0F0F0</code>.</li>
<li>The default background color of Table is changed from transparent to white.</li>
</ul>
<h3 id="Compatibility-adjustment">Compatibility adjustment <a class="header-anchor" href="#Compatibility-adjustment">
          <span aria-hidden="true" class="anchor">#</span>
        </a></h3>
<ul>
<li>The minimum supported version of Vue is Vue 3.0.</li>
</ul>
<h4 id="Adjusted-API">Adjusted API <a class="header-anchor" href="#Adjusted-API">
          <span aria-hidden="true" class="anchor">#</span>
        </a></h4>
<ul>
<li>
<p>Removed LocaleProvider, please use <code>ConfigProvider</code> instead.</p>
</li>
<li>
<p>Removed the afterClose property of Tag.</p>
</li>
<li>
<p>Merged FormModel and Form, see the Form refactoring part below for details.</p>
</li>
<li>
<p><code>tabIndex</code>, <code>maxLength</code>, <code>readOnly</code>, <code>autoComplete</code>, <code>autoFocus</code> are changed to all lowercase.</p>
</li>
<li>
<p>In order to use the slot more friendly in template syntax, all related to xxxRender, renderXxxx are changed to single parameter, involving <code>itemRender</code>, <code>renderItem</code>, <code>customRender</code>, <code>dropdownRender</code>, <code>dateCellRender</code>, <code>dateFullCellRender</code>, <code>monthCellRender</code>, <code>monthFullCellRender</code>, <code>renderTabBar</code>.</p>
</li>
<li>
<p>All the places where scopedSlots are configured are changed to slots.</p>
</li>
<li>
<p><code>{ on, props, attrs, ... }</code> configuration is flattened, such as <code>{ props: {type:'xxx'}, on: {click: this.handleClick}}</code> changed to <code>{ type: 'xxx', onClick: this.handleClick }</code>, related fields: <code>okButtonProps</code>, <code>cancelButtonProps</code>.</p>
</li>
<li>
<p>Change xxx.sync to v-model:xxx</p>
</li>
<li>
<p>v-model is changed to v-model:xxx, which specifically involves components:</p>
<ul>
<li>The components changed from v-model to v-model:checked are: CheckableTag, Checkbox, Switch</li>
<li>The components changed from v-model to v-model:value are: Radio, Mentions, CheckboxGroup, Rate, DatePicker\u3001Select</li>
<li>The components changed from v-model to v-model:visible are: Tag, Popconfirm, Popove, Tooltip, Moda, Dropdown</li>
<li>The components changed from v-model to v-model:activeKey are: Collaps, Tabs</li>
<li>The components changed from v-model to v-model:current are: Steps</li>
<li>The components changed from v-model to v-model:selectedKeys are: Menu</li>
</ul>
</li>
</ul>
<h4 id="Icon-Upgrade">Icon Upgrade <a class="header-anchor" href="#Icon-Upgrade">
          <span aria-hidden="true" class="anchor">#</span>
        </a></h4>
<p>In <code>ant-design-vue@1.2.0</code>, we introduced the svg icon (<a href="https://github.com/ant-design/ant-design/issues/10353" target="_blank" rel="noopener noreferrer">Why use the svg icon?</a>). The icon API that uses string naming cannot be loaded on demand, so the svg icon file is fully introduced, which greatly increases the size of the packaged product. In 2.0, we adjusted the icon usage API to support tree shaking, reducing the default package size by approximately 150 KB (Gzipped).</p>
<p>The old way of using Icon will be obsolete:</p>
<pre class="language-html" v-pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a-icon</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>smile<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a-button</span> <span class="token attr-name">icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>smile<span class="token punctuation">"</span></span> <span class="token punctuation">/></span></span>
</code></pre>
<p>In 2.0, an on-demand introduction method will be adopted:</p>
<pre class="language-html" v-pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>smile-outlined</span> <span class="token punctuation">/></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a-button</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#icon</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>smile-outlined</span> <span class="token punctuation">/></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a-button</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> SmileOutlined <span class="token keyword">from</span> <span class="token string">'@ant-design/icons-vue/SmileOutlined'</span><span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      SmileOutlined<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
</code></pre>
<h4 id="Component-refactoring">Component refactoring <a class="header-anchor" href="#Component-refactoring">
          <span aria-hidden="true" class="anchor">#</span>
        </a></h4>
<p>In 1.x, we provide two form components, Form and FormModel. The original Form component uses v-decorator for data binding. In Vue2, we use context to force update components. However, in Vue3, due to the introduction of patchFlag, etc. Optimization method, forced refresh will destroy the performance advantage brought by patchFlag. So in version 2.0, we merged Form and FormModel, retained the use of FormModel, enriched related functions, and renamed it to Form.</p>
<p>Involving changes:</p>
<ul>
<li>Added <code>scrollToFirstError</code>, <code>name</code>, <code>validateTrigger</code> properties for Form, added <code>finish</code>, <code>finishFailed</code> events, and added <code>scrollToField</code> method.</li>
<li>Form.Item adds <code>validateFirst</code>, <code>validateTrigger</code>, and discards the <code>prop</code> attribute, and replaces it with <code>name</code>.</li>
<li>The nested field path uses an array. In the past version, we used. To represent the nested path (such as <a href="http://user.name" target="_blank" rel="noopener noreferrer">user.name</a> to represent {user: {name:''} }). However, in some back-end systems, the variable name will also carry .. This causes users to need additional codes for conversion. Therefore, in the new version, nested paths are represented by arrays to avoid wrong handling behaviors (such as ['user','name']).</li>
<li>validateFields no longer supports callback. validateFields will return a Promise object, so you can perform corresponding error handling through async/await or then/catch. It is no longer necessary to determine whether errors is empty:</li>
</ul>
<pre class="language-js" v-pre><code><span class="token comment">// v1</span>
<span class="token function">validateFields</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Do something with value</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Change to</p>
<pre class="language-js" v-pre><code><span class="token comment">// v2</span>
<span class="token function">validateFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>values <span class="token parameter">\u200B\u200B</span><span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token comment">// Do something with value</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="Encounter-problems">Encounter problems <a class="header-anchor" href="#Encounter-problems">
          <span aria-hidden="true" class="anchor">#</span>
        </a></h2>
<p>V2 has made a lot of detailed improvements and refactorings. We have collected all known incompatible changes and related effects as much as possible, but there may still be some scenarios that we have not considered. If you encounter problems during the upgrade process, please go to <a href="https://vuecomponent.github.io/issue-helper/" target="_blank" rel="noopener noreferrer">GitHub issues</a> for feedback. We will respond as soon as possible and improve this document accordingly.</p>
`,lastUpdated:1669791392292}},o={class:"markdown"},c=s(`<p>This document will help you upgrade from ant-design-vue <code>1.x</code> version to ant-design-vue <code>2.x</code> version.</p><h2 id="Upgrade-preparation">Upgrade preparation <a class="header-anchor" href="#Upgrade-preparation"><span aria-hidden="true" class="anchor">#</span></a></h2><ol><li>Please upgrade to the latest version of 1.x first, and remove/modify related APIs according to the console warning message.</li><li>Upgrade the project to Vue 3.0 and above.</li></ol><h2 id="_2-0-What-are-the-incompatible-changes">2.0 What are the incompatible changes <a class="header-anchor" href="#_2-0-What-are-the-incompatible-changes"><span aria-hidden="true" class="anchor">#</span></a></h2><h3 id="Design-specification-adjustment">Design specification adjustment <a class="header-anchor" href="#Design-specification-adjustment"><span aria-hidden="true" class="anchor">#</span></a></h3><ul><li>Adjust the row height from <code>1.5</code>(<code>21px</code>) to <code>1.5715</code>(<code>22px</code>).</li><li>Basic round corner adjustment, changed from <code>4px</code> to <code>2px</code>.</li><li>The color brightness of the dividing line is reduced, from <code>#E8E8E8</code> to <code>#F0F0F0</code>.</li><li>The default background color of Table is changed from transparent to white.</li></ul><h3 id="Compatibility-adjustment">Compatibility adjustment <a class="header-anchor" href="#Compatibility-adjustment"><span aria-hidden="true" class="anchor">#</span></a></h3><ul><li>The minimum supported version of Vue is Vue 3.0.</li></ul><h4 id="Adjusted-API">Adjusted API <a class="header-anchor" href="#Adjusted-API"><span aria-hidden="true" class="anchor">#</span></a></h4><ul><li><p>Removed LocaleProvider, please use <code>ConfigProvider</code> instead.</p></li><li><p>Removed the afterClose property of Tag.</p></li><li><p>Merged FormModel and Form, see the Form refactoring part below for details.</p></li><li><p><code>tabIndex</code>, <code>maxLength</code>, <code>readOnly</code>, <code>autoComplete</code>, <code>autoFocus</code> are changed to all lowercase.</p></li><li><p>In order to use the slot more friendly in template syntax, all related to xxxRender, renderXxxx are changed to single parameter, involving <code>itemRender</code>, <code>renderItem</code>, <code>customRender</code>, <code>dropdownRender</code>, <code>dateCellRender</code>, <code>dateFullCellRender</code>, <code>monthCellRender</code>, <code>monthFullCellRender</code>, <code>renderTabBar</code>.</p></li><li><p>All the places where scopedSlots are configured are changed to slots.</p></li><li><p><code>{ on, props, attrs, ... }</code> configuration is flattened, such as <code>{ props: {type:&#39;xxx&#39;}, on: {click: this.handleClick}}</code> changed to <code>{ type: &#39;xxx&#39;, onClick: this.handleClick }</code>, related fields: <code>okButtonProps</code>, <code>cancelButtonProps</code>.</p></li><li><p>Change xxx.sync to v-model:xxx</p></li><li><p>v-model is changed to v-model:xxx, which specifically involves components:</p><ul><li>The components changed from v-model to v-model:checked are: CheckableTag, Checkbox, Switch</li><li>The components changed from v-model to v-model:value are: Radio, Mentions, CheckboxGroup, Rate, DatePicker\u3001Select</li><li>The components changed from v-model to v-model:visible are: Tag, Popconfirm, Popove, Tooltip, Moda, Dropdown</li><li>The components changed from v-model to v-model:activeKey are: Collaps, Tabs</li><li>The components changed from v-model to v-model:current are: Steps</li><li>The components changed from v-model to v-model:selectedKeys are: Menu</li></ul></li></ul><h4 id="Icon-Upgrade">Icon Upgrade <a class="header-anchor" href="#Icon-Upgrade"><span aria-hidden="true" class="anchor">#</span></a></h4><p>In <code>ant-design-vue@1.2.0</code>, we introduced the svg icon (<a href="https://github.com/ant-design/ant-design/issues/10353" target="_blank" rel="noopener noreferrer">Why use the svg icon?</a>). The icon API that uses string naming cannot be loaded on demand, so the svg icon file is fully introduced, which greatly increases the size of the packaged product. In 2.0, we adjusted the icon usage API to support tree shaking, reducing the default package size by approximately 150 KB (Gzipped).</p><p>The old way of using Icon will be obsolete:</p><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a-icon</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>smile<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a-button</span> <span class="token attr-name">icon</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>smile<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
</code></pre><p>In 2.0, an on-demand introduction method will be adopted:</p><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>smile-outlined</span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a-button</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#icon</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>smile-outlined</span> <span class="token punctuation">/&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a-button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
  <span class="token keyword">import</span> SmileOutlined <span class="token keyword">from</span> <span class="token string">&#39;@ant-design/icons-vue/SmileOutlined&#39;</span><span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">components</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      SmileOutlined<span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><h4 id="Component-refactoring">Component refactoring <a class="header-anchor" href="#Component-refactoring"><span aria-hidden="true" class="anchor">#</span></a></h4><p>In 1.x, we provide two form components, Form and FormModel. The original Form component uses v-decorator for data binding. In Vue2, we use context to force update components. However, in Vue3, due to the introduction of patchFlag, etc. Optimization method, forced refresh will destroy the performance advantage brought by patchFlag. So in version 2.0, we merged Form and FormModel, retained the use of FormModel, enriched related functions, and renamed it to Form.</p><p>Involving changes:</p><ul><li>Added <code>scrollToFirstError</code>, <code>name</code>, <code>validateTrigger</code> properties for Form, added <code>finish</code>, <code>finishFailed</code> events, and added <code>scrollToField</code> method.</li><li>Form.Item adds <code>validateFirst</code>, <code>validateTrigger</code>, and discards the <code>prop</code> attribute, and replaces it with <code>name</code>.</li><li>The nested field path uses an array. In the past version, we used. To represent the nested path (such as <a href="http://user.name" target="_blank" rel="noopener noreferrer">user.name</a> to represent {user: {name:&#39;&#39;} }). However, in some back-end systems, the variable name will also carry .. This causes users to need additional codes for conversion. Therefore, in the new version, nested paths are represented by arrays to avoid wrong handling behaviors (such as [&#39;user&#39;,&#39;name&#39;]).</li><li>validateFields no longer supports callback. validateFields will return a Promise object, so you can perform corresponding error handling through async/await or then/catch. It is no longer necessary to determine whether errors is empty:</li></ul><pre class="language-js"><code><span class="token comment">// v1</span>
<span class="token function">validateFields</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">err<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>err<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Do something with value</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><p>Change to</p><pre class="language-js"><code><span class="token comment">// v2</span>
<span class="token function">validateFields</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>values <span class="token parameter">\u200B\u200B</span><span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// Do something with value</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><h2 id="Encounter-problems">Encounter problems <a class="header-anchor" href="#Encounter-problems"><span aria-hidden="true" class="anchor">#</span></a></h2><p>V2 has made a lot of detailed improvements and refactorings. We have collected all known incompatible changes and related effects as much as possible, but there may still be some scenarios that we have not considered. If you encounter problems during the upgrade process, please go to <a href="https://vuecomponent.github.io/issue-helper/" target="_blank" rel="noopener noreferrer">GitHub issues</a> for feedback. We will respond as soon as possible and improve this document accordingly.</p>`,25),p=[c];function l(r,i,d,u,h,m){return a(),n("article",o,p)}const k=e(t,[["render",l]]);export{k as default};
